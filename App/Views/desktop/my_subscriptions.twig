{% import '_macros.twig' as macros %}
{% if user != false %}
<!--Subscriptions-->

<!--META-->
<div id='__MetaTitle' class='display--none'>Подписки</div>

<!--MY PROFILE-->
<div class='Draft' style='min-height: 100vh; padding: 0px 10px;'>
    <div class='Content'>
        <div class='inter--20'></div>
        <!--Subscriptions-->
        <div class='Element__Title'>
            <div class='Bar'>
                <div class='Block text-size--29px ShowTitle'>Подписки</div>
            </div>
            <div class='Bar'>
                <div class='Block align--right'>
                    {% set subscriptions_count = user.subscriptions.artists|length %}
                    <div class='Button'>{{ macros.pluralize(subscriptions_count, 'артист', 'артиста', 'артистов') }}</div>
                </div>
            </div>
        </div>
        <div class='inter--10'></div>
        <div id='__ACTIVE-CONTENT-AREA__' class='no-scroll' style='padding: 0px 10px;'>
            {% for artist in all_subscriptions %}
                <div x='artist' param='id={{ artist.id }}' class='Navigation_UpdateWin Element__Artist Middle Item ToolTipeWrap'>
                    <div class='ToolTipe'>{{ artist.name }}</div>
                    <div class='Ico' style='background-image: url({{ artist.picture_small }});'>
                        <div class='Ad'></div>
                    </div>
                    <div class='Info'>
                        <div class='Cut Title ShowTitle'>{{ artist.name }}</div>
                        <div class='Cut Ad'>{{ macros.format_number(artist.followers) }} слушают</div>
                    </div>
                </div>
            {% endfor %}
        </div>
        <div id='__TRIGGER__'></div>
        <div class='inter--100' style='height: 20vh;'></div>
    </div>
    
    <script>
        var LAZY_ACTION = 'mySubscriptions';
        var CONTENT_OFFSET = Number({{ start_offset }}); 
    </script>
    <script src="web/js/LazyLoadingService.js?v=55"></script>
</div>

{% endif %}